<!DOCTYPE html>
<html>
<head>
  <title>DaVinci App</title>
  <meta charset="utf-8"> 
  <link rel="stylesheet" href="res/onsen/css/onsenui.min.css">
  <link rel="stylesheet" href="res/onsen/css/onsen-css-components.min.css">
  <script src="res/onsen/js/onsenui.min.js"></script>

  <style>
  .profile-pic {
    width: 100%;
    background-color: blue;
    margin: 0px auto 0px;
    border: 0px solid;
  }

  .profile-pic > img {
    display: block;
    max-width: 100%;
  }

  ons-list-item {
    color: #444;
  }
</style>
</head>
<body>
  <div id="app">  
  <ons-splitter>
    <ons-splitter-side id="menu" side="left" width="220px" collapse swipeable>
      <ons-page>
        <div class="profile-pic"><img :src="menu.image"></div>      
        <ons-list>
          <span v-for="category in menu.categories">
            <span v-if=" category.name != ''">
              <br><ons-list-title>{{ category.name }}</ons-list-title>
            </span>
            <ons-list-item v-for="element in category.elements" onclick="fn.load('home.html')" tappable>
              <div class="left">
                <ons-icon fixed-width class="list-item__icon" :icon="element.icon"></ons-icon>
              </div>
              <div class="center">{{ element.name}}</div>
            </ons-list-item>
          </span>
        </ons-list>
      </ons-page>
    </ons-splitter-side>
    <ons-splitter-content id="content" page="home.html"></ons-splitter-content>
  </ons-splitter>
</div>

  <template id="home.html">
    <ons-page>
      <ons-toolbar>
        <div class="left">
          <ons-toolbar-button onclick="fn.open()">
            <ons-icon icon="md-menu"></ons-icon>
          </ons-toolbar-button>
        </div>
        <div class="center">
          Main
        </div>
      </ons-toolbar>
      <p style="text-align: center; opacity: 0.6; padding-top: 20px;">
        Swipe right to open the menu!
      </p>
    </ons-page>
  </template>

  <template id="settings.html">
    <ons-page>
      <ons-toolbar>
        <div class="left">
          <ons-toolbar-button onclick="fn.open()">
            <ons-icon icon="md-menu"></ons-icon>
          </ons-toolbar-button>
        </div>
        <div class="center">
          Settings
        </div>
      </ons-toolbar>
    </ons-page>
  </template>

  <template id="about.html">
    <ons-page>
      <ons-toolbar>
        <div class="left">
          <ons-toolbar-button onclick="fn.open()">
            <ons-icon icon="md-menu"></ons-icon>
          </ons-toolbar-button>
        </div>
        <div class="center">
          About
        </div>
      </ons-toolbar>
    </ons-page>
  </template>
  <script src="res/vue/vue.js"></script>
  <script src="res/axios/axios.min.js"></script>
  <script src="js/davapi.js"></script>
  
  <script> window.App = {} </script>
  <script src="js/menu.js"></script>
  <script src="js/index.js"></script>
  
  <script>
  
  window.fn = {};

window.fn.open = function() {
  var menu = document.getElementById('menu');
  menu.open();
};

window.fn.load = function(page) {
  var content = document.getElementById('content');
  var menu = document.getElementById('menu');
  content.load(page)
    .then(menu.close.bind(menu));
};
  
  </script>
</body>
</html>
